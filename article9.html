<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HaritSook</title>

    <!-- link to icons-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- custom style.css file -->
    <link rel="stylesheet" href="style.css">

</head>
<body>
    
    <!-- Header -->
       <header id="header" class="bg-dark">
           <nav class="container navbar">
               <a href="/index.html" class="nav-brand text-light">
                    HaritSook
                </a>

                <!-- toggle button -->
                <button class="toggle-button">
                    <span><i class="fas fa-bars"></i></span>
                </button>

                <!-- collapse on toggle button click -->
                <div class="collapse">
                    <ul class="navbar-nav">
                        <a href="./index.html" class="nav-link">Home</a>
                        <a href="./resume.html" class="nav-link">Resume</a>
                    </ul>
                </div>

                  <!-- collapse on toggle button click -->
                  <div class="collapse">
                      <ul class="navbar-nav">
                            <a href="mailto:HaritSook@gmail.com" class="nav-link"> <i class="fa-solid fa-envelope"></i> </a>
                            <a href="https://www.linkedin.com/in/harit-sookmeewiriya-a9b87923b/" class="nav-link" target="_blank" rel="noopener noreferrer"> <i class="fa-brands fa-linkedin"></i> </a>
                            <a href="https://github.com/Yakultt?tab=repositories" class="nav-link" target="_blank" rel="noopener noreferrer"> <i class="fa-brands fa-github"></i> </a>
                      </ul>
                  </div>
           </nav>
       </header>
    <!-- end of header -->

    <!-- Main Site -->
       <main id="site-main">

            <!-- Post Content -->
                <section class="container">
                    <article id="post">
                        <!-- article heading -->
                        <div class="headings text-center">
                            <div class="category">
                                <p class="nav-link-dark">Basic CTF Knowledge<p>
                            </div>

                            <div class="title">
                                <h2 class="text-title text-dark display-1">SQL Injecting OWASP Juice Shop
                                </h2>
                            </div>

                            <div class="meta">
                                <p class="link display-2 text-secondary px-1">
                                    <i class="fas fa-clock text-primary"></i>  10/19/2025
                                </p>
                            </div>

                        </div>

                        <!-- thumbnail  -->
                        <div class="thumbnail mt-5">
                            <img src="./assets/img9.jpg" class="thumbnail" alt="">
                        </div>

                        <!-- content -->
                        <div class="content text-dark display-2 secondary-title mt-5">
                            <p> First off for this blog, I want to give a little intro to sql injection. SQL is the language that websites use to talk 
                                to databases that store site data. This can range from product listings to user accounts and payment info. SQL injection happens when a site 
                                puts user input straight into those database queries, which lets us "inject" special characters or SQL code to read, change, or
                                 delete data.

                            </p>

                            <img src="./article9images/1.png" alt="" 
                            style="display:block; margin:1.5rem auto; width:70%; height:auto; border-radius:10px;">
                            
                            
                            <p> Here I can see that we have a login page from our OWASP juice shop website. I can see that it accepts a email and password. I'm just going to 
                                put test for both the email and password just to see what happens
                            </p>

                            <img src="./article9images/2.png" alt="" 
                            style="display:block; margin:1.5rem auto; width:70%; height:auto; border-radius:10px;">
                            
                            <p> Okay, as expected it just said invalid email and password. However now im going to do test' as the username.
                            </p>
                            
                            <img src="./article9images/3.png" alt="" 
                            style="display:block; margin:1.5rem auto; width:70%; height:auto; border-radius:10px;">

                            <p>
                                Okay cool! Now it says [object Object]. Now you might be wondering what the heck that means and why did I do test' as the username. [object Object] means
                                that the server sent back some structured data (like JSON to respond to my request) but the website just printed it raw instead of showing the actual 
                                message. Basically, the backend returned an object and the front end didnt format it, so the browser showed the default text for objects. 
                                I typed test' on purpose because the extra single quote is a quick probe. Many sites build database queries by sticking what you type straight 
                                into SQL. Adding a quote can break that query. If the backend isn't careful, that quote can make the database run something different than the developer intended,
                                which is the basic idea behind SQL injection. Seeing an error or [object Object] after test' is a good sign that user input is getting passed through in a risky way.
                            </p>

                                
                            <img src="./article9images/4.png" alt="" 
                            style="display:block; margin:1.5rem auto; width:70%; height:auto; border-radius:10px;">

                            <p> I can confirm this by doing inspect on the page and then going to the network section and seeing that there is a 500 error here. 500 error is just a
                                generic message indicating that the website's server encountered an unexpected problem and could not complete the request. When I actually look at the response,
                                I can see that the server gave me a SQLITE error. SQLITE is just a type of database that is really common in containerized web pages cause its super portable.
                                If you look more down on the request, you can see the sql query it was trying to execute. "SELECT * FROM Users WHERE email = 'test'' AND password =
                                '098f6bcd4621d373cade4e832627b4f6' AND deletedAt IS NULL". This sql query means that it wanted to select a user from the database where the email = test and 
                                the password was this hash that the source string was test. However, you can see that the reason this request crashed is because I put the single quote at the end of
                                test. So now instead of test being neatly wrapped up in single quotes like 'test', the extra quote has actually broken the query.

                            </p>
                            
                            <p> Now, lets think about how I can take advantage of this vulnerability to make the query do things that I want it to do instead of continuing as normal. This is where
                                we actually start doing the sql injection. From the sql query, if we are actually going to be selecting something from our database, what would happen if I put
                                ' OR 1=1-- for the email. So the whole sql query would look like this "SELECT * FROM Users WHERE email = '' OR 1=1--' AND password =
                                '098f6bcd4621d373cade4e832627b4f6' AND deletedAt IS NULL". Basically what this says is that the email is blank due to the '', or 1=1 (which is always true),
                                and then the two dashes mean that its a sql comment. So from a high level overview, I have transformed the sql query so it just becomes this 
                                "SELECT * FROM Users WHERE email = '' OR 1=1--'" (disregarding the password and the null) and when we are trying to select a user from the user table, it will read
                                1=1 which is always true, then it means i'm able to log in successfully to the server. 



                            </p>

                            <img src="./article9images/5.png" alt="" 
                            style="display:block; margin:1.5rem auto; width:70%; height:auto; border-radius:10px;">


                            <img src="./article9images/6.png" alt="" 
                            style="display:block; margin:1.5rem auto; width:70%; height:auto; border-radius:10px;">

                            <p>
                                I just put in ' OR 1=1-- as the email and as you can see it worked! 

                            </p>
                            


                        </div>
                    </article>

            
                            
                        

   


    <!-- masonry libray for horizontal grid -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/masonry/4.2.2/masonry.pkgd.min.js" integrity="sha512-JRlcvSZAXT8+5SQQAvklXGJuxXTouyq8oIMaYERZQasB8SBDHZaUbeASsJWpk0UUrf89DP3/aefPPrlMR1h1yQ==" crossorigin="anonymous"></script>



    <!-- custom javascript main.js file -->
    <script src="main.js"></script>
</body>
</html>